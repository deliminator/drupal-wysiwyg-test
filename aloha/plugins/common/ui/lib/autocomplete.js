define(["jquery","aloha/repositorymanager","ui/component","ui/context","./vendor/jquery-ui-autocomplete-html"],function(e,t,n,r){function i(e,t){return e.replace(/{{([^}]+)}}/g,function(e,n){return n in t?t[n]:""})}var s=r.extend({init:function(){this._super();var r=this;this.element=e("<input>").autocomplete({html:!0,appendTo:n.selector,source:function(n,s){t.query({queryString:n.term,objectTypeFilter:r.types},function(t){s(e.map(t.items,function(e){return{label:i(r.template,e),value:e.name,obj:e}}))})}}).bind("autocompletechange",e.proxy(function(e,t){this.setValue(e.target.value,t.item?t.item.obj:null)},this))},setValue:function(e,t){}});return s})